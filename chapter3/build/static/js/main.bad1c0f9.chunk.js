(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var r=t(14),o=t.n(r),c=t(3),i=t(2),s=t(4),u=t.n(s),a="https://warm-stream-65671.herokuapp.com/api/persons",j=function(){return u.a.get(a).then((function(e){return e.data}))},d=function(e){return u.a.post(a,e).then((function(e){return e.data}))},b=function(e){return u.a.delete(a+"/".concat(e))},f=function(e,n){return u.a.put(a+e,n)},h=t(0),m=function(e){var n=e.persons,t=e.setPersons;return Object(h.jsx)("div",{children:n.map((function(e){return Object(h.jsxs)("li",{children:[e.name," ",e.number," ",Object(h.jsx)("input",{type:"button",value:"delete",onClick:function(){return r=e.id,void(window.confirm("Delete ".concat(n.filter((function(e){return e.id===r}))[0].name," ?"))&&b(r).then((function(e){return t(n.filter((function(e){return e.id!==r})))})));var r}})]},e.id)}))})},l=function(e){var n=e.persons,t=e.setPersons,r=Object(i.useState)([]),o=Object(c.a)(r,2),s=o[0],u=o[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["filter shown with",Object(h.jsx)("input",{onChange:function(e){u(e.target.value)}})]})}),Object(h.jsx)("h3",{children:"Numbers"}),Object(h.jsx)(m,{persons:function(e,n){var t=[];for(var r in e)-1!==e[r].name.toLowerCase().indexOf(String(n).toLowerCase())&&t.push(e[r]);return t}(n,s),setPersons:t})]})},p=function(e){var n=e.persons,t=e.setPersons,r=Object(i.useState)([]),o=Object(c.a)(r,2),s=o[0],u=o[1],a=function(){var e=n.filter((function(e){return e.name===s.name})),r="/".concat(e[0].id);f(r,s).then((function(r){return t(n.filter((function(n){return n.id!==e[0].id})).concat(r.data))}))};return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),void 0!==s.number&&void 0!==s.name&&(s.number.length<1||s.name.length<1||(-1===n.map((function(e){return e.name.toLowerCase()})).indexOf(s.name.toLowerCase())?(d(s).then((function(e){t(n.concat(e))})),u("")):window.confirm("".concat(s.name," is already added to phonebook, replace the old number ?"))&&a()))},children:[Object(h.jsxs)("div",{children:["Name:",Object(h.jsx)("input",{onChange:function(e){u({name:e.target.value,number:s.number})}})]}),Object(h.jsxs)("div",{children:["Number:",Object(h.jsx)("input",{onChange:function(e){u({name:s.name,number:e.target.value})}})]}),Object(h.jsx)("input",{type:"submit",value:"Add"})]})})};var O=function(){var e=Object(i.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1];return Object(i.useEffect)((function(){j().then((function(e){r(e)}))}),[t.number]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(p,{persons:t,setPersons:r}),Object(h.jsx)(l,{persons:t,setPersons:r})]})};o.a.render(Object(h.jsx)(O,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.bad1c0f9.chunk.js.map